(this["webpackJsonptovary-react"]=this["webpackJsonptovary-react"]||[]).push([[0],{46:function(e,t,a){e.exports=a(70)},55:function(e,t,a){},56:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(23),i=a.n(r),c=a(19),o=(a(55),a(5)),u=a(6),s=a(8),p=a(7),m=a(9),d=a(1),g=(a(56),function(e){return n.a.createElement("header",{className:"main-navigation"},n.a.createElement("div",{className:"main-navigation__logo"},n.a.createElement("h1",null,"\u0422\u043e\u0432\u0430\u0440\u044b \u0420\u041f")),n.a.createElement("nav",{className:"main-navigation__items"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(m.c,{to:"/main"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),n.a.createElement("li",null,n.a.createElement(m.c,{to:"/villages"},"\u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0420\u041f")),n.a.createElement("li",null,n.a.createElement(m.c,{to:"/people"},"\u041b\u044e\u0434\u0438")),n.a.createElement("li",null,n.a.createElement(m.c,{to:"/products"},"\u0422\u043e\u0432\u0430\u0440\u044b")),n.a.createElement("li",null,n.a.createElement(m.c,{to:"/auth"},"\u0412\u0445\u043e\u0434 / \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),n.a.createElement("li",null,n.a.createElement(m.c,{to:"/basket"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")))))}),v=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),n.a.createElement("p",null,"\u0418\u0434\u0435\u044f ",n.a.createElement("strong",null,"\u0420\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439"),' \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0430 \u0432 \u043a\u043d\u0438\u0433\u0430\u0445 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430 \u041c\u0435\u0433\u0440\u0435 \u0441\u0435\u0440\u0438\u0438 "\u0417\u0432\u0435\u043d\u044f\u0449\u0438\u0435 \u043a\u0435\u0434\u0440\u044b \u0420\u043e\u0441\u0441\u0438\u0438". \u0420\u043e\u0434\u043e\u0432\u043e\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u0435 - \u044d\u0442\u043e \u0443\u0447\u0430\u0441\u0442\u043e\u043a \u0437\u0435\u043c\u043b\u0438 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 1 \u0433\u0435\u043a\u0442\u0430\u0440\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u0435\u043c\u044c\u044f \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0438 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0440\u0435\u0434\u0443 \u043e\u0431\u0438\u0442\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u0440\u043e\u0434\u0430.'),n.a.createElement("p",null,"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e ",n.a.createElement(m.b,{to:"/villages"},"\u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0439"),", \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u0438\u0437 \u0420\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0443\u0436\u0435 \u0441\u0435\u0439\u0447\u0430\u0441."),n.a.createElement("p",null,"\u0412 \u0440\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u044c\u044f\u0445 \u0436\u0438\u0432\u0443\u0442 \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0435 ",n.a.createElement(m.b,{to:"/people"},"\u041b\u044e\u0434\u0438...")),n.a.createElement("p",null,"\u042d\u0442\u0438 \u043b\u044e\u0434\u0438 \u0432\u044b\u0440\u0430\u0449\u0438\u0432\u0430\u044e\u0442 \u044d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0438\u0441\u0442\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b, \u043c\u0430\u0441\u0442\u0435\u0440\u044f\u0442 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u044f\u0442 \u043f\u0440\u043e\u0447\u0443\u044e ",n.a.createElement(m.b,{to:"/products"},"\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044e"),"."))}}]),a}(l.Component),E=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("h1",null,"\u0412\u0445\u043e\u0434 / \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")}}]),a}(l.Component),f=a(72),h=a(73),_=a(74),b=a(75),j=a(76),O=a(4),k=a.n(O),y=(a(58),a(43)),C=a.n(y),I=a(44),V=a.n(I),w=a(45),N=a.n(w),P=(a(60),a(61),function(e){var t=k.a.icon({iconUrl:C.a,shadowUrl:V.a,iconAnchor:[13,41],popupAnchor:[1,-33]});new k.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});k.a.Marker.prototype.options.icon=t;var a=Object(f.a)(),r=Object(l.useRef)(null),i=e.village,c=e.openPopup;return Object(l.useEffect)((function(){a.flyTo(e.mapCenter),c&&r.current.openPopup()}),[c]),n.a.createElement(h.a,{ref:r,position:i.coordinates,eventHandlers:{click:function(){e.onVillageClick(i.id)}}},n.a.createElement(_.a,null,n.a.createElement("b",null,i.village_name)))}),R=function(e){var t=e.mapCenter;return n.a.createElement("div",{className:"village__map"},n.a.createElement(b.a,{center:t,zoom:6,style:{width:"450px",height:"200px"},class:"villageMap"},n.a.createElement(j.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n.a.createElement(N.a,null,e.villages.map((function(a){return n.a.createElement(P,{key:a.id,village:a,mapCenter:t,openPopup:e.selectedVillageId===a.id,onVillageClick:e.onVillageClick})})))))},F=(a(62),function(e){return n.a.createElement("div",{className:"village__list"},n.a.createElement("ul",null,e.villages.map((function(t){return n.a.createElement("li",{key:t.id,className:t.id===e.selectedVillageId?"village__list-item-active":"village__list-item"},n.a.createElement("div",{onClick:function(){e.onVillageClick(t.id)}},t.village_name))}))))}),x=(a(63),a(64),function(e){return n.a.createElement("li",{key:e.personId,className:"person__list-item"},n.a.createElement("img",{src:"./images/"+e.personImage,alt:""}),n.a.createElement("div",null,e.personFullName))}),T=(a(65),function(e){var t=e.persons.map((function(e){return n.a.createElement(x,{key:e.id,personId:e.id,personVillageId:e.village_id,personFullName:e.full_name,personImage:e.image})}));return n.a.createElement("ul",{className:"person__list"},t)}),A=(a(66),function(e){return n.a.createElement("li",{key:e.productId,className:"product__list-item"},n.a.createElement("div",null,n.a.createElement("img",{src:"./images/"+e.productImage,alt:""}),n.a.createElement("strong",null,e.productTitle)," - ",e.productPrice," \u0440\u0443\u0431\u043b\u0435\u0439"))}),S=(a(67),function(e){var t=e.products.map((function(e){return n.a.createElement(A,{key:e.id,productId:e.id,productTitle:e.title,productPrice:e.price,productImage:e.image})}));return n.a.createElement("ul",{className:"product__list"},t)}),U=function(e){var t=e.match.params.village_id,a=e.villages.find((function(e){return e.id===t}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"\u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435: ",n.a.createElement("strong",null,a.village_name)),n.a.createElement("p",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",a.village_description),n.a.createElement("p",null,"\u0416\u0438\u0442\u0435\u043b\u0438 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f:"),n.a.createElement(T,{persons:e.persons.filter((function(e){return e.village_id===t}))}),n.a.createElement("p",null,"\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f:"),n.a.createElement(S,{products:e.products.filter((function(e){return e.village_id===t}))}))},z=(a(68),function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(e){var l;return Object(o.a)(this,a),(l=t.call(this,e)).handleVillageClick=function(e){var t=l.props.villages.find((function(t){return t.id===e})).coordinates;l.setState({selectedVillageId:e,mapCenter:t}),l.props.history.push("/villages/".concat(e))},l.state={selectedVillageId:"",mapCenter:[54.81975,28.15401]},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"\u041f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0420\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439"),n.a.createElement(R,{map:this.map,villages:this.props.villages,selectedVillageId:this.state.selectedVillageId,mapCenter:this.state.mapCenter,onVillageClick:this.handleVillageClick}),n.a.createElement(F,{villages:this.props.villages,selectedVillageId:this.state.selectedVillageId,onVillageClick:this.handleVillageClick}),n.a.createElement("hr",{className:"hr"}),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/villages/:village_id",render:function(t){return n.a.createElement(U,Object.assign({},t,{villages:e.props.villages,persons:e.props.persons,products:e.props.products}))}})))}}]),a}(l.Component)),B=Object(c.b)((function(e){return{villages:e.villagesReducer.villages,persons:e.personsReducer.persons,products:e.productsReducer.products}}),null)(z),D=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"\u041b\u044e\u0434\u0438"),n.a.createElement("h3",null,"\u0416\u0438\u0442\u0435\u043b\u0438 \u0440\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439:"),n.a.createElement(T,{persons:this.props.persons}),n.a.createElement("h3",null,"\u0414\u0440\u0443\u0437\u044c\u044f \u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u0440\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439:"),n.a.createElement("p",null,"..."))}}]),a}(l.Component),G=Object(c.b)((function(e){return{persons:e.personsReducer.persons}}),null)(D);var L=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"\u0422\u043e\u0432\u0430\u0440\u044b \u0420\u043e\u0434\u043e\u0432\u044b\u0445 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0439"),n.a.createElement(S,{products:this.props.products}),n.a.createElement("button",{onClick:this.props.getProductsByVillageId.bind(this,"village03")},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"),n.a.createElement("p",null,"\u0412\u044b\u0431\u0440\u0430\u043d\u043e:"),n.a.createElement(S,{products:this.props.selectedProducts}))}}]),a}(l.Component),M=Object(c.b)((function(e){return{products:e.productsReducer.products,selectedProducts:e.productsReducer.selectedProducts}}),(function(e){return{getProductsByVillageId:function(t){return e(function(e){return{type:"GET_PRODUCTS_BY_VILLAGE_ID",payload:e}}(t))}}}))(L),J=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("h1",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")}}]),a}(l.Component),Y=(a(69),function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(m.a,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(g,null),n.a.createElement("main",{className:"main-content"},n.a.createElement(d.d,null,n.a.createElement(d.a,{from:"/",to:"/main",exact:!0}),n.a.createElement(d.b,{path:"/main",component:v}),n.a.createElement(d.b,{path:"/auth",component:E}),n.a.createElement(d.b,{path:"/villages",component:B}),n.a.createElement(d.b,{path:"/people",component:G}),n.a.createElement(d.b,{path:"/products",component:M}),n.a.createElement(d.b,{path:"/basket",component:J})))))}}]),a}(l.Component)),H=a(29),q=a(16),K={products:[{id:"prod01",village_id:"village01",title:"\u041c\u0451\u0434",price:10,image:"products-honey.jpg"},{id:"prod02",village_id:"village01",title:"\u041e\u0440\u0435\u0445\u0438",price:12,image:"products-nuts.jpg"},{id:"prod03",village_id:"village01",title:"\u041c\u0430\u043b\u0438\u043d\u0430",price:5,image:"products-malina.jpg"},{id:"prod04",village_id:"village01",title:"\u041b\u043e\u0436\u043a\u0438",price:15,image:"products-lozhki.jpg"},{id:"prod05",village_id:"village01",title:"\u0425\u043b\u0435\u0431 \u0431\u0435\u0437\u0434\u0440\u043e\u0436\u0436\u0435\u0432\u043e\u0439",price:5,image:"products-hleb.jpg"},{id:"prod06",village_id:"village02",title:"\u042f\u0431\u043b\u043e\u043a\u0438",price:5,image:"products-apple.jpg"},{id:"prod07",village_id:"village02",title:"\u0413\u0440\u0443\u0448\u0438",price:7,image:"products-grusha.jpg"},{id:"prod08",village_id:"village02",title:"\u041a\u0430\u0440\u0442\u043e\u0444\u0435\u043b\u044c",price:3,image:"products-kartofel.jpg"},{id:"prod09",village_id:"village02",title:"\u041f\u043b\u0430\u0442\u044c\u0435",price:100,image:"products-dress.jpg"},{id:"prod10",village_id:"village03",title:"\u0421\u043b\u0438\u0432\u044b",price:5,image:"products-sliva.jpg"},{id:"prod11",village_id:"village03",title:"\u0427\u0430\u0439 \u0442\u0440\u0430\u0432\u044f\u043d\u043e\u0439",price:10,image:"products-herb.jpg"}],selectedProducts:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_BY_VILLAGE_ID":e=Object(q.a)(Object(q.a)({},e),{},{selectedProducts:e.products.filter((function(e){return e.village_id===t.payload}))});break;default:return e}return e};var W={persons:[{id:"id01",village_id:"village01",full_name:"\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432",image:"person-m01.png"},{id:"id02",village_id:"village01",full_name:"\u041f\u0451\u0442\u0440 \u041f\u0435\u0442\u0440\u043e\u0432",image:"person-m02.png"},{id:"id03",village_id:"village01",full_name:"\u041c\u0438\u0445\u0430\u0438\u043b \u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432",image:"person-m03.png"},{id:"id04",village_id:"village02",full_name:"\u0413\u0435\u043e\u0440\u0433\u0438\u0439 \u0413\u043e\u0440\u0441\u043a\u0438\u0439",image:"person-m04.png"},{id:"id05",village_id:"village02",full_name:"\u0412\u0438\u043a\u0442\u043e\u0440 \u0412\u0438\u0442\u0435\u0431\u0441\u043a\u0438\u0439",image:"person-m05.png"},{id:"id06",village_id:"village02",full_name:"\u0412\u0438\u043a\u0442\u043e\u0440\u0438\u044f \u0412\u0438\u043a\u0442\u043e\u0440\u043e\u0432\u0430",image:"person-w01.png"},{id:"id07",village_id:"village03",full_name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u0423\u043b\u0435\u0441\u0441\u043a\u0438\u0439",image:"person-m06.png"},{id:"id08",village_id:"village03",full_name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0441\u0430 \u0423\u043b\u0435\u0441\u0441\u043a\u0430\u044f",image:"person-w02.png"}]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return e},Z={villages:[{id:"village01",village_name:"\u0420\u043e\u0441\u044b",village_description:"\u041c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0412\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0430\u0439\u043e\u043d",coordinates:[53.98224,26.76782]},{id:"village02",village_name:"\u0417\u0432\u043e\u043d-\u0413\u043e\u0440\u0430",village_description:"\u0412\u0438\u0442\u0435\u0431\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0412\u0438\u0442\u0435\u0431\u0441\u043a\u0438\u0439 \u0440\u0430\u0439\u043e\u043d",coordinates:[55.3706,30.56975]},{id:"village03",village_name:"\u0423\u043b\u0435\u0441\u044c\u0435",village_description:"\u0412\u0438\u0442\u0435\u0431\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0414\u043e\u043a\u0448\u0438\u0446\u043a\u0438\u0439 \u0440\u0430\u0439\u043e\u043d",coordinates:[54.81975,28.15401]}]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return e},ee=Object(H.c)(Object(H.b)({villagesReducer:$,productsReducer:Q,personsReducer:X}),{});i.a.render(n.a.createElement(c.a,{store:ee},n.a.createElement(Y,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.1eb6863f.chunk.js.map