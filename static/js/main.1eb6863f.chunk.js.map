{"version":3,"sources":["components/Navigation/MainNavigation.js","pages/Main.js","pages/Auth.js","components/Villages/VillageMap/VillageMap.js","components/Villages/VillageList/VillageList.js","components/Persons/PersonList/PersonItem/PersonItem.js","components/Persons/PersonList/PersonList.js","components/Products/ProductList/ProductItem/ProductItem.js","components/Products/ProductList/ProductList.js","components/Villages/Village.js","pages/Villages.js","pages/People.js","pages/Products.js","store/actions/productsActions.js","pages/Basket.js","components/App.js","store/reducers/productsReducer.js","store/reducers/personsReducer.js","store/reducers/villagesReducer.js","store/store.js","index.js"],"names":["mainNavigation","props","className","to","MainPage","Fragment","Component","AuthPage","VillageMarker","defaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","iconAnchor","popupAnchor","Icon","iconSize","shadowSize","Marker","prototype","options","map","useMap","markerRef","useRef","village","openPopup","useEffect","flyTo","mapCenter","current","ref","position","coordinates","eventHandlers","click","onVillageClick","id","Popup","village_name","VillageMap","MapContainer","center","zoom","style","width","height","class","TileLayer","url","attribution","villages","key","selectedVillageId","VillageList","onClick","personItem","personId","src","personImage","alt","personFullName","personList","persons","person","personVillageId","village_id","full_name","image","productItem","productId","productImage","productTitle","productPrice","productList","products","product","title","price","villageIdFromProps","match","params","villageFound","find","village_description","filter","VillagesPage","handleVillageClick","village_coords","setState","history","push","state","this","path","render","connect","villagesReducer","personsReducer","productsReducer","PeoplePage","ProductsPage","getProductsByVillageId","bind","selectedProducts","dispatch","type","payload","BasketPage","App","from","exact","component","initialState","action","item","createStore","combineReducers","ReactDOM","store","document","getElementById"],"mappings":"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","file":"static/js/main.1eb6863f.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './MainNavigation.css';\n\nconst mainNavigation = props => (\n    <header className=\"main-navigation\">\n        <div className=\"main-navigation__logo\">\n            <h1>Товары РП</h1>\n        </div>\n        <nav className=\"main-navigation__items\">\n            <ul>\n                <li><NavLink to=\"/main\">Главная</NavLink></li>\n                <li><NavLink to=\"/villages\">Поселения РП</NavLink></li>\n                <li><NavLink to=\"/people\">Люди</NavLink></li>\n                <li><NavLink to=\"/products\">Товары</NavLink></li>\n                <li><NavLink to=\"/auth\">Вход / Регистрация</NavLink></li>\n                <li><NavLink to=\"/basket\">Корзина</NavLink></li>\n            </ul>\n        </nav>\n    </header>\n);\n\nexport default mainNavigation;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass MainPage extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <h1>Главная страница</h1>\n                <p>Идея <strong>Родовых поместий</strong> изложена в книгах Владимира Мегре серии \"Звенящие кедры России\". Родовое поместье - это участок земли размером не менее 1 гектара, на котором семья создаёт и совершенствует среду обитания для себя и своего рода.</p>\n                <p>Множество <Link to=\"/villages\">Поселений</Link>, состоящих из Родовых поместий, существуют уже сейчас.</p>\n                <p>В родовых поместьях живут прекрасные <Link to=\"/people\">Люди...</Link></p>\n                <p>Эти люди выращивают экологически чистые продукты, мастерят красивые изделия, производят прочую <Link to=\"/products\">Продукцию</Link>.</p>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default MainPage;","import React, { Component } from 'react';\r\n\r\nclass AuthPage extends Component {\r\n    render() {\r\n        return (\r\n            <h1>Вход / Регистрация</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AuthPage;","import React, { useRef, useEffect } from 'react';\r\n\r\nimport { MapContainer, TileLayer, Marker, Popup, Tooltip, MapConsumer, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\nimport 'react-leaflet-markercluster/dist/styles.min.css';\r\n\r\nimport './VillageMap.css';\r\n\r\nconst VillageMarker = props => {\r\n\r\n    // См. как сделать Popup на Маркере:  https://stackoverflow.com/questions/56633263/open-pop-up-on-click-outside-of-map\r\n    const defaultIcon = L.icon({\r\n        iconUrl: icon,\r\n        shadowUrl: iconShadow,\r\n        iconAnchor: [13,41],\r\n        popupAnchor: [1,-33]\r\n    });\r\n    // См. как сделать разные цветные маркеры: https://github.com/pointhi/leaflet-color-markers\r\n    const greenIcon = new L.Icon({\r\n        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\r\n        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n        iconSize: [25, 41],\r\n        iconAnchor: [12, 41],\r\n        popupAnchor: [1, -34],\r\n        shadowSize: [41, 41]\r\n    });\r\n    L.Marker.prototype.options.icon = defaultIcon;\r\n    //L.Marker.prototype.options.icon = greenIcon;\r\n\r\n    const map = useMap();\r\n\r\n    const markerRef = useRef(null);\r\n    const { village, openPopup } = props;\r\n\r\n    useEffect(() => {\r\n        map.flyTo(props.mapCenter);\r\n        //if (openPopup) markerRef.current.leafletElement.openPopup();\r\n        if (openPopup) markerRef.current.openPopup();\r\n    }, [openPopup]);\r\n\r\n    return (\r\n        <Marker\r\n            ref={markerRef}\r\n            position={village.coordinates}\r\n            eventHandlers={{\r\n                click: () => {\r\n                    props.onVillageClick(village.id);\r\n                    //props.map.flyTo(village.coordinates);\r\n                }\r\n            }}\r\n        >\r\n            <Popup><b>{village.village_name}</b></Popup>\r\n            {/*<Tooltip offset={[0,-28]}><b>{village.village_name}</b></Tooltip>*/}\r\n        </Marker>\r\n    );\r\n};\r\n\r\n\r\nconst VillageMap = props => {\r\n\r\n    // ------  Attribution and Url for Maptiler ----------\r\n    //const attribution = '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>';\r\n    //const url ='https://api.maptiler.com/maps/basic/{z}/{x}/{y}.png?key=iWfINcI6KwDACPPxDmJm';\r\n\r\n    // ------  Attribution and Url for OpenStreetMap ----------\r\n    const attribution = '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\r\n    const url ='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n    const mapCenter = props.mapCenter;\r\n\r\n    //const map = useMap();\r\n\r\n    return (\r\n        <div className=\"village__map\">\r\n        <MapContainer\r\n            center={mapCenter}\r\n            zoom={6}\r\n            style={{width: '450px', height: '200px'}}\r\n            class=\"villageMap\"\r\n        >\r\n            <TileLayer\r\n                url={url}\r\n                attribution={attribution}\r\n            />\r\n\r\n            <MarkerClusterGroup>\r\n                {\r\n                    props.villages.map(village => (\r\n                        <VillageMarker\r\n                            //map={map}\r\n                            key={village.id}\r\n                            village={village}\r\n                            mapCenter={mapCenter}\r\n                            openPopup={props.selectedVillageId === village.id}\r\n                            onVillageClick={props.onVillageClick}\r\n                        />\r\n                    ))\r\n                }\r\n            </MarkerClusterGroup>\r\n        </MapContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VillageMap;","// См. пример: https://habr.com/ru/post/329996/\r\nimport React from 'react';\r\n\r\nimport './VillageList.css';\r\n\r\nconst VillageList = props => {\r\n    const listItem = \"village__list-item\";\r\n    const listItemActive = \"village__list-item-active\";\r\n\r\n    return (\r\n        <div className=\"village__list\">\r\n            <ul>\r\n                {\r\n                    props.villages.map(village => (\r\n                        <li\r\n                            key={village.id}\r\n                            className={(village.id === props.selectedVillageId) ? listItemActive : listItem}\r\n                        >\r\n                            <div\r\n                                onClick={() => {\r\n                                    props.onVillageClick(village.id);\r\n                                }}\r\n                            >\r\n                                {village.village_name}\r\n                            </div>\r\n                        </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VillageList;","import React from 'react';\r\n\r\nimport './PersonItem.css';\r\n\r\nconst personItem = props => (\r\n    <li key={props.personId} className=\"person__list-item\" >\r\n        <img src={'./images/' + props.personImage} alt=\"\"/>\r\n        <div>\r\n            {props.personFullName}\r\n        </div>\r\n    </li>\r\n);\r\n\r\nexport default personItem;","import React from 'react';\r\n\r\nimport PersonItem from './PersonItem/PersonItem';\r\nimport './PersonList.css';\r\n\r\nconst personList = props => {\r\n    const persons = props.persons.map(person => {\r\n        return (\r\n            <PersonItem\r\n                key={person.id}\r\n                personId={person.id}\r\n                personVillageId={person.village_id}\r\n                personFullName={person.full_name}\r\n                personImage={person.image}\r\n            />\r\n        );\r\n    });\r\n\r\n    return (<ul className=\"person__list\">{persons}</ul>)\r\n};\r\n\r\nexport default personList;","import React from 'react';\r\n\r\nimport './ProductItem.css';\r\n\r\nconst productItem = props => (\r\n    <li key={props.productId} className=\"product__list-item\">\r\n        <div>\r\n            <img src={'./images/' + props.productImage} alt=\"\"/>\r\n            <strong>{props.productTitle}</strong> - {props.productPrice} рублей\r\n        </div>\r\n    </li>\r\n);\r\n\r\nexport default productItem;","import React from 'react';\r\n\r\nimport ProductItem from './ProductItem/ProductItem';\r\nimport './ProductList.css';\r\n\r\nconst productList = props => {\r\n    const products = props.products.map(product => {\r\n        return (\r\n            <ProductItem\r\n                key={product.id}\r\n                productId={product.id}\r\n                productTitle={product.title}\r\n                productPrice={product.price}\r\n                productImage={product.image}\r\n            />\r\n        );\r\n    });\r\n\r\n    return (<ul className=\"product__list\">{products}</ul>)\r\n};\r\n\r\nexport default productList;","import React from 'react';\r\n\r\nimport './Village.css';\r\nimport PersonList from '../Persons/PersonList/PersonList';\r\nimport ProductList from '../Products/ProductList/ProductList';\r\n\r\nconst village = props => {\r\n    const villageIdFromProps = props.match.params.village_id;\r\n    const villageFound = props.villages.find(village => village.id === villageIdFromProps);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Поселение: <strong>{villageFound.village_name}</strong></p>\r\n            <p>Описание: {villageFound.village_description}</p>\r\n\r\n            <p>Жители поселения:</p>\r\n            <PersonList persons={props.persons.filter(person => person.village_id === villageIdFromProps)} />\r\n\r\n            <p>Продукция поселения:</p>\r\n            <ProductList products={props.products.filter(product => product.village_id === villageIdFromProps)} />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default village;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route, useHistory } from 'react-router-dom';\r\n\r\nimport VillageMap from '../components/Villages/VillageMap/VillageMap';\r\nimport VillageList from '../components/Villages/VillageList/VillageList';\r\nimport Village from '../components/Villages/Village';\r\n\r\nimport './Pages.css';\r\n\r\nclass VillagesPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedVillageId: '',\r\n            mapCenter: [54.81975,28.15401]\r\n        };\r\n        //const history = useHistory();\r\n    }\r\n\r\n    handleVillageClick = (village_id) => {\r\n        const village_coords = this.props.villages.find(village => village.id === village_id).coordinates;\r\n        this.setState({\r\n            selectedVillageId: village_id,\r\n            mapCenter: village_coords\r\n        });\r\n        this.props.history.push(`/villages/${village_id}`); // Redirecting in react-router to Route\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1>Поселения Родовых поместий</h1>\r\n                <VillageMap\r\n                    map={this.map}\r\n                    villages={this.props.villages}\r\n                    selectedVillageId={this.state.selectedVillageId}\r\n                    mapCenter={this.state.mapCenter}\r\n                    onVillageClick={this.handleVillageClick}\r\n                />\r\n                <VillageList\r\n                    villages={this.props.villages}\r\n                    selectedVillageId={this.state.selectedVillageId}\r\n                    onVillageClick={this.handleVillageClick}\r\n                />\r\n                <hr className=\"hr\"/>\r\n                <Switch>\r\n                    <Route\r\n                        path=\"/villages/:village_id\"\r\n                        render={(props) =>\r\n                            <Village {...props}\r\n                                     villages={this.props.villages}\r\n                                     persons={this.props.persons}\r\n                                     products={this.props.products}\r\n                            />\r\n                        }\r\n                    />\r\n                </Switch>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        villages: state.villagesReducer.villages,\r\n        persons: state.personsReducer.persons,\r\n        products: state.productsReducer.products\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(VillagesPage);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport PersonList from '../components/Persons/PersonList/PersonList';\n\nclass PeoplePage extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <h1>Люди</h1>\n                <h3>Жители родовых поместий:</h3>\n                <PersonList persons={this.props.persons} />\n                <h3>Друзья жителей родовых поместий:</h3>\n                <p>...</p>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        persons: state.personsReducer.persons\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    null\n)(PeoplePage);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { getProductsByVillageId } from '../store/actions/productsActions';\nimport ProductList from '../components/Products/ProductList/ProductList';\n\nclass ProductsPage extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <h1>Товары Родовых поместий</h1>\n                <ProductList products={this.props.products} />\n\n                <button\n                    onClick={this.props.getProductsByVillageId.bind(this, 'village03')}\n                >Выбрать товары</button>\n\n                <p>Выбрано:</p>\n                <ProductList products={this.props.selectedProducts} />\n\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        products: state.productsReducer.products,\n        selectedProducts: state.productsReducer.selectedProducts\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getProductsByVillageId: village_id => dispatch(getProductsByVillageId(village_id))\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ProductsPage);","export const GET_PRODUCTS_BY_VILLAGE_ID = \"GET_PRODUCTS_BY_VILLAGE_ID\";\nexport const GET_PRODUCTS_BY_PERSON_ID = \"GET_PRODUCTS_BY_PERSON_ID\";\n\nexport function getProductsByVillageId(village_id) {\n    return {\n        type: GET_PRODUCTS_BY_VILLAGE_ID,\n        payload: village_id\n    }\n}\n\nexport function getProductsByPersonId(person_id) {\n    return {\n        type: GET_PRODUCTS_BY_PERSON_ID,\n        payload: person_id\n    }\n}","import React, { Component } from 'react';\r\n\r\nclass BasketPage extends Component {\r\n    render() {\r\n        return (\r\n            <h1>Корзина</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BasketPage;","import React, { Component } from 'react';\n//import { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom';\n\nimport MainNavigation from \"./Navigation/MainNavigation\";\nimport MainPage from \"../pages/Main\";\nimport AuthPage from '../pages/Auth';\nimport VillagesPage from \"../pages/Villages\";\nimport PeoplePage from \"../pages/People\";\nimport ProductsPage from \"../pages/Products\";\nimport BasketPage from \"../pages/Basket\";\n\nimport './App.css';\n\nclass App extends Component{\n    render(){\n        return (\n            //<BrowserRouter>\n            <HashRouter>\n                <React.Fragment>\n                    <MainNavigation/>\n                    <main className=\"main-content\">\n                        <Switch>\n                            <Redirect from=\"/\" to=\"/main\" exact />\n                            <Route path=\"/main\" component={MainPage} />\n                            <Route path=\"/auth\" component={AuthPage} />\n                            <Route path=\"/villages\" component={VillagesPage} />\n                            <Route path=\"/people\" component={PeoplePage} />\n                            <Route path=\"/products\" component={ProductsPage} />\n                            <Route path=\"/basket\" component={BasketPage} />\n                        </Switch>\n                    </main>\n                </React.Fragment>\n            </HashRouter>\n            //</BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","import { GET_PRODUCTS_BY_VILLAGE_ID } from \"../actions/productsActions\";\n\nconst initialState = {\n    products: [\n        { id: 'prod01', village_id: 'village01', title: 'Мёд', price: 10, image: 'products-honey.jpg' },\n        { id: 'prod02', village_id: 'village01', title: 'Орехи', price: 12, image: 'products-nuts.jpg' },\n        { id: 'prod03', village_id: 'village01', title: 'Малина', price: 5, image: 'products-malina.jpg' },\n        { id: 'prod04', village_id: 'village01', title: 'Ложки', price: 15, image: 'products-lozhki.jpg' },\n        { id: 'prod05', village_id: 'village01', title: 'Хлеб бездрожжевой', price: 5, image: 'products-hleb.jpg' },\n        { id: 'prod06', village_id: 'village02', title: 'Яблоки', price: 5, image: 'products-apple.jpg' },\n        { id: 'prod07', village_id: 'village02', title: 'Груши', price: 7, image: 'products-grusha.jpg' },\n        { id: 'prod08', village_id: 'village02', title: 'Картофель', price: 3, image: 'products-kartofel.jpg' },\n        { id: 'prod09', village_id: 'village02', title: 'Платье', price: 100, image: 'products-dress.jpg' },\n        { id: 'prod10', village_id: 'village03', title: 'Сливы', price: 5, image: 'products-sliva.jpg' },\n        { id: 'prod11', village_id: 'village03', title: 'Чай травяной', price: 10, image: 'products-herb.jpg' }\n    ],\n    selectedProducts: []\n};\n\nconst productsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_PRODUCTS_BY_VILLAGE_ID:\n            state = {\n                ...state,\n                selectedProducts: state.products.filter(item => item.village_id === action.payload)\n            };\n            break;\n        default:\n            return state;\n    }\n    return state;\n};\n\nexport default productsReducer;","import { GET_PERSONS_BY_VILLAGE_ID } from '../actions/personsActions';\r\n\r\nconst initialState = {\r\n    persons: [\r\n        { id: 'id01', village_id: 'village01', full_name: 'Иван Иванов', image: 'person-m01.png' },\r\n        { id: 'id02', village_id: 'village01', full_name: 'Пётр Петров', image: 'person-m02.png' },\r\n        { id: 'id03', village_id: 'village01', full_name: 'Михаил Михайлов', image: 'person-m03.png' },\r\n        { id: 'id04', village_id: 'village02', full_name: 'Георгий Горский', image: 'person-m04.png' },\r\n        { id: 'id05', village_id: 'village02', full_name: 'Виктор Витебский', image: 'person-m05.png' },\r\n        { id: 'id06', village_id: 'village02', full_name: 'Виктория Викторова', image: 'person-w01.png' },\r\n        { id: 'id07', village_id: 'village03', full_name: 'Василий Улесский', image: 'person-m06.png' },\r\n        { id: 'id08', village_id: 'village03', full_name: 'Василиса Улесская', image: 'person-w02.png' }\r\n    ]\r\n};\r\n\r\nconst personsReducer = (state = initialState) => {\r\n    return state;\r\n};\r\n\r\nexport default personsReducer;","\r\nconst initialState = {\r\n    villages: [\r\n        {\r\n            id: 'village01',\r\n            village_name: 'Росы',\r\n            village_description: 'Минская область, Воложинский район',\r\n            coordinates: [53.98224, 26.76782]\r\n        },\r\n        {\r\n            id: 'village02',\r\n            village_name: 'Звон-Гора',\r\n            village_description: 'Витебская область, Витебский район',\r\n            coordinates: [55.37060, 30.56975]\r\n        },\r\n        {\r\n            id: 'village03',\r\n            village_name: 'Улесье',\r\n            village_description: 'Витебская область, Докшицкий район',\r\n            coordinates: [54.81975, 28.15401]\r\n        }\r\n    ]\r\n};\r\n\r\nconst villagesReducer = (state = initialState) => {\r\n    return state;\r\n};\r\n\r\nexport default villagesReducer;","import { createStore, combineReducers } from 'redux';\nimport productsReducer from './reducers/productsReducer';\nimport personsReducer from './reducers/personsReducer';\nimport villagesReducer from './reducers/villagesReducer';\n\nexport default createStore(\n    combineReducers({\n        villagesReducer,\n        productsReducer,\n        personsReducer\n    }),\n    {}\n);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport store from './store/store';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}